# ============================================================================
# 1. CORE & PERFORMANCE
# ============================================================================
shell_integration enabled no-cursor
allow_remote_control yes
listen_on          unix:/tmp/kitty
term               xterm-kitty
confirm_os_window_close 0

# Performance (Low latency)
repaint_delay    8
input_delay      2
sync_to_monitor  yes

# ============================================================================
# 2. WINDOW LAYOUT (CRITICAL FOR SPLITS)
# ============================================================================

# We put 'splits' first so directional navigation works perfectly.
enabled_layouts splits,stack,grid,tall

# Window appearance
hide_window_decorations yes
window_border_width     1pt
active_border_color     #856e98
inactive_border_color   #282828
window_margin_width     2
window_padding_width    2
inactive_text_alpha     0.7

# Transparency (Fixed to 0.85 so you can see your text)
background_opacity         0.5
background_blur            1
dynamic_background_opacity yes

# ============================================================================
# 3. FONT & CURSOR
# ============================================================================
font_family      Hack Nerd Font
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        12.0

# Cursor Shape
cursor_shape          beam
cursor_beam_thickness 1.5

# Cursor Trail
cursor_trail       3
cursor_trail_decay 0.1 0.4


# ============================================================================
# 4. KEYBINDINGS: NAVIGATION (ALT + ARROWS)
# ============================================================================

# MOVE FOCUS between splits
map alt+left  neighboring_window left
map alt+right neighboring_window right
map alt+up    neighboring_window up
map alt+down  neighboring_window down

# CREATE SPLITS (e = horizontal, d = vertical)
map alt+e launch --location=hsplit --cwd=current
map alt+d launch --location=vsplit --cwd=current

# RESIZE SPLITS (Alt + Shift + Arrows)
map alt+shift+left  resize_window wider 5
map alt+shift+right resize_window narrower 5
map alt+shift+up    resize_window taller 5
map alt+shift+down  resize_window shorter 5

# MOVE SPLIT POSITION (Alt + Ctrl + Arrows)
map alt+ctrl+left  move_window left
map alt+ctrl+right move_window right
map alt+ctrl+up    move_window up
map alt+ctrl+down  move_window down

# ============================================================================
# 5. TAB MANAGEMENT
# ============================================================================
tab_bar_edge            top
tab_bar_style           powerline
tab_powerline_style     angled

# Switch tabs with Alt + Number
map alt+1 goto_tab 1
map alt+2 goto_tab 2
map alt+3 goto_tab 3
map alt+4 goto_tab 4
map alt+5 goto_tab 5
map alt+6 goto_tab 6

# ============================================================================
# 6. SYSTEM & UTILITY (CTRL + SHIFT)
# ============================================================================
map ctrl+shift+c copy_to_clipboard
map ctrl+shift+v paste_from_clipboard

# URL & Unicode (No conflicts)
map ctrl+shift+e open_url_with_hints
map ctrl+shift+u kitten unicode_input

# Zoom (Toggle one window to full screen and back)
map ctrl+shift+z toggle_layout stack

# Reload Config
map ctrl+alt+r load_config_file

# ============================================================================
# 7. NVIM SCROLLBACK (IF INSTALLED)
# ============================================================================
action_alias kitty_scrollback_nvim kitten $HOME/.local/share/nvim/lazy/kitty-scrollback.nvim/python/kitty_scrollback_nvim.py
map ctrl+shift+h kitty_scrollback_nvim


# ============================================================================
# 8. DETACH WINDOW
# ============================================================================

# This allows you to "detach" a window and move it to another OS window or tab
#map alt+shift+f2 detach_window ask

